{"ast":null,"code":"import _classCallCheck from \"/Users/kylewiltshire/Documents/projects/2019/Javascript/playground/monten/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kylewiltshire/Documents/projects/2019/Javascript/playground/monten/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kylewiltshire/Documents/projects/2019/Javascript/playground/monten/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kylewiltshire/Documents/projects/2019/Javascript/playground/monten/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kylewiltshire/Documents/projects/2019/Javascript/playground/monten/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/kylewiltshire/Documents/projects/2019/Javascript/playground/monten/client/src/components/Snapshot.js\";\nimport _ from \"lodash\";\nimport React, { Component, Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchTransactions } from \"../actions\"; // To do refactor this component to be the page that renders all of the cards with the data. For instance spending card, networth card, graph of increase in spend etc.\n\nvar Snapshot =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Snapshot, _Component);\n\n  function Snapshot() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Snapshot);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Snapshot)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.calculateIncome = function (transactions) {\n      var income = _.chain(transactions).filter(function (transaction) {\n        if (transaction.category === \"Paycheck\") return transaction;\n      }).map(function (transaction) {\n        return transaction.amount;\n      }).sum().value();\n\n      return income.toFixed(2);\n    };\n\n    _this.calculateExpenses = function () {\n      var expenditure = _.chain.apply(_, arguments).remove(function (transaction) {\n        if (transaction.category === \"Credit Card Payment\") return transaction;\n      }).value();\n\n      return expenditure;\n    };\n\n    _this.calculateNet = function () {\n      return _this.calculateNet - _this.calculateIncome;\n    };\n\n    return _this;\n  }\n\n  _createClass(Snapshot, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.fetchTransactions();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.calculateExpenses(this.props.transactions));\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"Hi Kyle, here's your financial snapshot!\")), React.createElement(\"div\", {\n        className: \"ui card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Net Spend\")), React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"ui sub header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Income: $\", this.calculateIncome(this.props.transactions)), React.createElement(\"h4\", {\n        className: \"ui sub header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Spent: $ \"), React.createElement(\"h4\", {\n        className: \"ui sub header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"Net: $\", this.calculateNet()))));\n    }\n  }]);\n\n  return Snapshot;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    transactions: Object.values(state.transactions) // this converts our transactions objects into arrays.\n\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchTransactions: fetchTransactions\n})(Snapshot);","map":{"version":3,"sources":["/Users/kylewiltshire/Documents/projects/2019/Javascript/playground/monten/client/src/components/Snapshot.js"],"names":["_","React","Component","Fragment","connect","fetchTransactions","Snapshot","calculateIncome","transactions","income","chain","filter","transaction","category","map","amount","sum","value","toFixed","calculateExpenses","expenditure","remove","calculateNet","props","console","log","mapStateToProps","state","Object","values"],"mappings":";;;;;;AAAA,OAAOA,CAAP,MAAc,QAAd;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,iBAAT,QAAkC,YAAlC,C,CAEA;;IAEMC,Q;;;;;;;;;;;;;;;;;;UAKJC,e,GAAkB,UAAAC,YAAY,EAAI;AAChC,UAAMC,MAAM,GAAGT,CAAC,CAACU,KAAF,CAAQF,YAAR,EACZG,MADY,CACL,UAAAC,WAAW,EAAI;AACrB,YAAIA,WAAW,CAACC,QAAZ,KAAyB,UAA7B,EAAyC,OAAOD,WAAP;AAC1C,OAHY,EAIZE,GAJY,CAIR,UAAAF,WAAW,EAAI;AAClB,eAAOA,WAAW,CAACG,MAAnB;AACD,OANY,EAOZC,GAPY,GAQZC,KARY,EAAf;;AAUA,aAAOR,MAAM,CAACS,OAAP,CAAe,CAAf,CAAP;AACD,K;;UAEDC,iB,GAAoB,YAAqB;AACvC,UAAMC,WAAW,GAAGpB,CAAC,CAACU,KAAF,OAAAV,CAAC,YAAD,CACjBqB,MADiB,CACV,UAAAT,WAAW,EAAI;AACrB,YAAIA,WAAW,CAACC,QAAZ,KAAyB,qBAA7B,EAAoD,OAAOD,WAAP;AACrD,OAHiB,EAIjBK,KAJiB,EAApB;;AAMA,aAAOG,WAAP;AACD,K;;UAEDE,Y,GAAe,YAAM;AACnB,aAAO,MAAKA,YAAL,GAAoB,MAAKf,eAAhC;AACD,K;;;;;;;wCA9BmB;AAClB,WAAKgB,KAAL,CAAWlB,iBAAX;AACD;;;6BA8BQ;AACPmB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,iBAAL,CAAuB,KAAKI,KAAL,CAAWf,YAAlC,CAAZ;AACA,aACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDADF,CADF,EAIE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,CADF,EAIE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACY,KAAKD,eAAL,CAAqB,KAAKgB,KAAL,CAAWf,YAAhC,CADZ,CADF,EAIE;AAAI,QAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAJF,EAKE;AAAI,QAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAqC,KAAKc,YAAL,EAArC,CALF,CAJF,CAJF,CADF;AAmBD;;;;EAtDoBpB,S;;AAyDvB,IAAMwB,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK,EAAI;AAC/B,SAAO;AACLnB,IAAAA,YAAY,EAAEoB,MAAM,CAACC,MAAP,CAAcF,KAAK,CAACnB,YAApB,CADT,CAC2C;;AAD3C,GAAP;AAGD,CAJD;;AAMA,eAAeJ,OAAO,CACpBsB,eADoB,EAEpB;AAAErB,EAAAA,iBAAiB,EAAjBA;AAAF,CAFoB,CAAP,CAGbC,QAHa,CAAf","sourcesContent":["import _ from \"lodash\";\nimport React, { Component, Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchTransactions } from \"../actions\";\n\n// To do refactor this component to be the page that renders all of the cards with the data. For instance spending card, networth card, graph of increase in spend etc.\n\nclass Snapshot extends Component {\n  componentDidMount() {\n    this.props.fetchTransactions();\n  }\n\n  calculateIncome = transactions => {\n    const income = _.chain(transactions)\n      .filter(transaction => {\n        if (transaction.category === \"Paycheck\") return transaction;\n      })\n      .map(transaction => {\n        return transaction.amount;\n      })\n      .sum()\n      .value();\n\n    return income.toFixed(2);\n  };\n\n  calculateExpenses = (...transactions) => {\n    const expenditure = _.chain(...transactions)\n      .remove(transaction => {\n        if (transaction.category === \"Credit Card Payment\") return transaction;\n      })\n      .value();\n\n    return expenditure;\n  };\n\n  calculateNet = () => {\n    return this.calculateNet - this.calculateIncome;\n  };\n\n  render() {\n    console.log(this.calculateExpenses(this.props.transactions));\n    return (\n      <Fragment>\n        <div>\n          <h2>Hi Kyle, here's your financial snapshot!</h2>\n        </div>\n        <div className=\"ui card\">\n          <div className=\"content\">\n            <div className=\"header\">Net Spend</div>\n          </div>\n          <div className=\"content\">\n            <h4 className=\"ui sub header\">\n              Income: ${this.calculateIncome(this.props.transactions)}\n            </h4>\n            <h4 className=\"ui sub header\">Spent: $ </h4>\n            <h4 className=\"ui sub header\">Net: ${this.calculateNet()}</h4>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    transactions: Object.values(state.transactions) // this converts our transactions objects into arrays.\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { fetchTransactions }\n)(Snapshot);\n"]},"metadata":{},"sourceType":"module"}